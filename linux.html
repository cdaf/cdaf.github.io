<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CDAF for Linux - Continuous Delivery Automation Framework</title>
    
    <link rel="stylesheet" type="text/css" href="/static/app/content/bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="/static/app/content/site.css" />
    <link rel="shortcut icon" type="image/png" href="/static/app/images/favicon.ico" />
    <script src="/static/app/scripts/modernizr-2.6.2.js"></script>
</head>

<body>
    <div class="navbar navbar-inverse navbar-fixed-top">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a href="/" class="navbar-brand">CDAF</a>
            </div>
            <div class="navbar-collapse collapse">
                <ul class="nav navbar-nav">
                    <li><a href="/">Home</a></li>
                    <li><a href="/about">About</a></li>
                    <li><a href="/linux">Linux</a></li>
                    <li><a href="/windows">Windows</a></li>
                    <li><a href="/release">Release History</a></li>
                    <li><a href="/breaking">Breaking Change History</a></li>
                </ul>
            </div>
        </div>
    </div>

    <div class="container body-content">


<h2>CDAF for Linux.</h2>

<p>Getting Started with CDAF on Linux. This is not a comprehensive tutorial on implementing CDAF, this is simple quickstart guide, serving primarily as a reminder when creating a new solution.</p>

<h3>Production-Like Environment Using Vagrant and VirtualBox (Recommended)</h3>

<p>By using the included Vagrant file, a quickstart environment can be created from the CDAF package.</p>

<img src="../../static/app/images/LU-CDM.png" />

<h3>Desktop Execution</h3>

<p\><p>Tested on Ubuntu (14.04 and above), CentOS (6 and above), RHEL (7) and Mac OS X (Snow Leopard).</p>
<p>To support loopback testing on localhost, provisioning a deployer account and apply a PKI key.</p>

<p\><p>Note: For Mac OS X, see the Mac quick start page.</p>
<p>Download and extract the CDAF package. To validate the downloaded framework:</p>

<div title="Obtain" class="container" style="border:1px solid #cecece;">
    <div>
    <code>curl -s https://cdaf.io/static/app/downloads/cdaf.sh | bash -</code>
    </div>
    <div>
    <code>./automation/remote/capabilities.sh</code>
    </div>
</div>

<p\><p>To provision, create a deployer user and target directory, set a password for the deploy user.</p>

<div title="Provision" class="container" style="border:1px solid #cecece;">
    <div>
    <code>./automation/provisioning/addUser.sh deployer</code>
    </div>
    <div>
    <code>./automation/provisioning/mkDirWithOwner.sh /opt/packages deployer</code>
    </div>
    <div>
    <code>sudo passwd deployer</code>
    </div>
</div>

<p\><p>Run the agent pre-shared key utility, press enter three times when prompted to generate the key, do not enter a passphrase.</p>

<div title="Preshare" class="container" style="border:1px solid #cecece;">
    <div>
    <code>./automation/provisioning/agent.sh deployer@localhost</code>
    </div>
</div>

<h3>Apply to Solution</h3>

<p/><p>Initialise the solution and re-run the emulator, this time no build, local or remote tasks are performed...</p>

<div title="Initialise workspace" class="container" style="border:1px solid #cecece;">
    <div>
    <code>mkdir automation-solution</code>
    </div>
    <div>
    <code>cp ./automation/solution/CDAF.solution ./automation-solution</code>
    </div>
    <div>
    <code>./automation/cdEmulate.sh</code>
    </div>
</div>

<p/><p>Create a build task in the a project directory (name is Project in this example)</p>

<div title="Execute first build" class="container" style="border:1px solid #cecece;">
    <div>
    <code>mkdir Project</code>
    </div>
    <div>
    <code>echo "REMOVE bin" > Project/build.tsk</code>
    </div>
    <div>
    <code>echo "EXITIF \$ACTION" >> Project/build.tsk</code>
    </div>
    <div>
    <code>echo "# Following will be executed when performing ACTION is not populated" >> Project/build.tsk</code>
    </div>
    <div>
    <code>echo "PROPLD \$SOLUTIONROOT/CDAF.solution" >> Project/build.tsk</code>
    </div>
    <div>
    <code>echo "MAKDIR bin" >> Project/build.tsk</code>
    </div>
    <div>
    <code>echo "VECOPY \$SOLUTIONROOT/CDAF.solution bin/pretend.jar" >> Project/build.tsk</code>
    </div>
    <div>
    <code>./automation/cdEmulate.sh</code>
    </div>
</div>

<p/><p>Once the Project Build is validated, gather the resulting artefacts for packaging. Create a the artefact definition file in your solution.</p>

<div title="Artefacts for packaging" class="container" style="border:1px solid #cecece;">
    <div>
    <code>echo "Project/bin/*.jar" > automation-solution/storeForRemote</code>
    </div>
    <div>
    <code>./automation/cdEmulate.sh</code>
    </div>
</div>

<p/><p>Copy and add the target definitions (localhost and Vagrant) to the solution and define a task to perform on the target</p>

<div title="Remote Target Templates" class="container" style="border:1px solid #cecece;">
    <div>
    <code>cp ./automation/solution/propertiesForRemoteTasks ./automation-solution -r</code>
    </div>
    <div>
    <code>echo "ls -l Project/bin" > automation-solution/tasksRunRemote.tsk</code>
    </div>
    <div>
    <code>./automation/cdEmulate.sh</code>
    </div>
</div>

<h1>Incremental Database </h1>

<p/><p>Simple imcrimental script runner (postgresql only).</p>
<p><a class="btn btn-default" href="../../static/app/downloads/incrdb.jar">incrdb.jar</a></p>

<h1>Deeplinks</h1>

<p><a class="btn btn-default" href="../../static/app/downloads/LU-CDAF.zip">Zip Archive</a></p>
<p><a class="btn btn-default" href="../../static/app/downloads/LU-CDAF.tar.gz">Tarball Archive</a></p>
<p><a class="btn btn-default" href="../../static/app/downloads/cdaf.sh">Self-Extracting Installer</a></p>


        <hr/>
        <footer>
            <p>&copy; cdaf.io - 2.5.2.460</p>
        </footer>
    </div>

    <script src="/static/app/scripts/jquery-1.10.2.js"></script>
    <script src="/static/app/scripts/bootstrap.js"></script>
    <script src="/static/app/scripts/respond.js"></script>


</body>
</html>
